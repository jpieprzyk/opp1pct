<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8"/>
  	<link rel="stylesheet" type="text/css" href="opp.css">
  	<script src="https://d3js.org/d3.v4.min.js"></script>

</head>
<body>
	
	<script>
	
var opp;	
var scale_r;

var width = 800;
var height = 600;


d3.tsv("opp2015.tsv", function(data) {
	d3.select("#chart").style("width", "800px").style("height", "600px");
	
	data.forEach(function(d) {
		d.amount = +d.amount;
	});
	opp = data;

	scale_r = d3.scaleSqrt().range([1, 50]).domain([1, d3.max(opp, function(dd) { return dd.amount; })]);
	
	console.log(scale_r(100));
	d3.select("#chart").selectAll("circle").data(opp).enter().append("circle")
	.attr("cx", function(d) { return Math.random() * width; })
	.attr("cy", function(d) { return Math.random() * height; })
	.attr("r", function(d) { return scale_r(d.amount); } );
	
	var force = d3.layout.force()
        .size([width, height])
        .nodes(opp)
        .gravity(1);
        
    force.on('tick', stepForce);
	
});

var stepForce = function() {
	opp.atr
}
		
		
	</script>
	
	
	<svg id="chart">
		
	</svg>
	
</body>
</html>